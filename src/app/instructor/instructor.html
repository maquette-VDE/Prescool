<div>
  <h3>Les experts en recrutement</h3>
  <p>Découvrez les experts disponibles pour vous trouver votre prochaine mission</p>
</div>

@if (instructors().length > 0) {
  <table class="table table-hover table-sm mt-5 border-top border-bottom">
    <tbody>
      @for (instructor of instructors(); track instructor.id) {
        @let evenement = eventsByConsultant().get(instructor.id);
        <tr>
          <td class="pt-3 pb-3">
            <div class="d-flex align-items-center gap-2">
              <div style="height: 20px;">
                <span class="rounded-circle bg-secondary opacity-50 d-inline-block" style="width:20px; height:20px;"></span>
              </div>
              <div class="d-flex flex-column lh-1">
                <span class="fw-semibold">{{ instructor.last_name }}</span>
              </div>
            </div>
          </td>
          <td class="pt-3 pb-3">
            <div class="d-flex gap-3 align-items-center"
              [class.text-success]="evenement?.attendance_status === 'present'"
              [class.text-danger]="evenement?.attendance_status === 'absent'"
              [class.text-warning]="evenement?.attendance_status === 'late'"
              [class.text-info]="evenement?.attendance_status === 'mission'"
              [class.text-secondary]="evenement?.attendance_status === 'excused'"
            >
              <i class="bi bi-phone-vibrate"
                (mouseenter)="hoveredInstructorId.set(instructor.id)"
                (mouseleave)="hoveredInstructorId.set(null)"></i>
              <i class="bi bi-chat-dots"></i>
              <span class="" [class.opacity-0]="hoveredInstructorId() !== instructor.id">
                {{ instructor.phone_number }}
              </span>
            </div>
          </td>
        </tr>
      }
    </tbody>
</table>

<nav aria-label="Page navigation">
  <ul class="pagination">
    <!-- Bouton Précédent -->
    <li class="page-item" [class.disabled]="currentPage() === 0">
      <button class="page-link" (click)="prevPage()">< Précédent</button>
    </li>

    <!-- Numéros de page -->
     @for (p of [].constructor(totalPages()); track $index) {
      <li class="page-item" [class.active]="currentPage() === $index">
      <button class="page-link" (click)="goToPage($index)">
        {{ $index + 1 }}
      </button>
    </li>
     }

    <!-- Bouton Suivant -->
    <li class="page-item" [class.disabled]="currentPage() === totalPages() - 1">
      <button class="page-link" (click)="nextPage()">Suivant ></button>
    </li>
  </ul>
</nav>
}
