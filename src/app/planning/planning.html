<div
  class="header-container container-fluid bg-white border-bottom shadow-sm py-2 py-md-3 px-3 px-md-4"
>
  <div class="row align-items-center g-3">
    <div class="col-12 col-md-auto">
      <div class="title-section">
        <h2 class="fw-bold mb-0 h4 h2-md">La liste de présence</h2>
        <p class="text-muted small mb-0 d-none d-sm-block">
          Consultez la présence des consultants
        </p>
      </div>
    </div>

    <div class="col-12 col-md px-md-5 order-3 order-md-2">
      <div
        class="search-section w-100"
        style="max-width: 500px; margin: 0 auto"
      >
        <div
          class="input-group search-bar rounded-pill shadow-sm overflow-hidden border"
        >
          <span class="input-group-text bg-light border-0 ps-3">
            <i class="bi bi-search text-muted"></i>
          </span>
          <input
            type="text"
            class="form-control bg-light border-0 py-2 shadow-none"
            placeholder="Rechercher un consultant"
            (input)="onSearchChange($event)"
          />
        </div>
      </div>
    </div>

    <div class="col-auto col-md-auto ms-auto order-2 order-md-3">
      <div class="profile-section d-flex align-items-center gap-2 gap-md-3">
        <button class="btn btn-light rounded-circle p-2 border shadow-sm">
          <i class="bi bi-bell fs-5"></i>
        </button>

        <div
          class="user-pill d-flex align-items-center border rounded-pill p-1 pe-2 pe-md-3 shadow-sm bg-white cursor-pointer"
        >
          <div
            class="rounded-circle d-flex align-items-center justify-content-center me-md-2 bg-dark text-white fw-bold"
            style="
              width: 35px;
              height: 35px;
              font-size: 0.8rem;
              border: 1px solid #333;
              flex-shrink: 0;
            "
          >
            YO
          </div>
          <div class="d-none d-md-flex flex-column me-2">
            <span class="fw-bold" style="font-size: 0.85rem; line-height: 1"
              >Yougourtha</span
            >
            <span class="text-muted" style="font-size: 0.65rem">Expert</span>
          </div>
          <i class="bi bi-chevron-down small text-muted d-none d-sm-block"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid my-3 px-3">
  <div
    class="d-flex flex-wrap align-items-center justify-content-between gap-3"
  >
    <div class="d-flex align-items-center">
      <div
        class="bg-light rounded-3 text-center p-2 me-3"
        style="min-width: 45px"
      >
        <div
          class="text-uppercase text-muted"
          style="font-size: 0.6rem; font-weight: 700"
        >
          {{ translateDateToFr(today, "MMM") }}
        </div>
        <div class="fw-bold fs-5 text-dark" style="line-height: 1">
          {{ translateDateToFr(today, "dd") }}
        </div>
      </div>
      <div class="d-flex flex-column">
        <span class="fw-bold text-dark small">{{
          translateDateToFr(today, "d MMMM yyyy")
        }}</span>
        <span class="text-muted d-none d-sm-inline" style="font-size: 0.7rem">{{
          weekRangeLabel
        }}</span>
      </div>
    </div>

    <div class="d-flex flex-wrap align-items-center gap-2">
      <select
        class="form-select border rounded-pill shadow-sm pl-2 pr-4 py-1 py-md-2"
        style="width: auto; font-size: 0.85rem; cursor: pointer"
        (change)="onSpecialtyChange($event)"
      >
        <option value="">
          <span class="mr-2">Toutes les specialtés</span>
        </option>
        <option value="DEV">Développement</option>
        <option value="DATA">Data Science</option>
        <option value="DEVOPS">DevOps</option>
        <option value="DESIGN">Design</option>
      </select>

      <select
        class="form-select border rounded-pill shadow-sm pl-2 pr-4 py-1 py-md-2"
        style="width: auto; font-size: 0.85rem; cursor: pointer"
        (change)="onStatusChange($event)"
      >
        <option value="">Tous les statuts</option>
        <option value="present">Présents</option>
        <option value="absent">Absents</option>
        <option value="late">En retard</option>
      </select>

      <div
        class="week-selector d-flex align-items-center bg-black text-white rounded-pill px-3 py-1 py-md-2 shadow-sm"
      >
        <button
          (click)="changeWeek(-1)"
          class="btn btn-link text-white p-0 me-3 shadow-none border-0"
        >
          <i class="bi bi-chevron-left"></i>
        </button>
        <span
          class="fw-medium text-nowrap"
          style="font-size: 0.85rem; min-width: 100px; text-align: center"
        >
          {{ weekRangeLabel }}
        </span>
        <button
          (click)="changeWeek(1)"
          class="btn btn-link text-white p-0 ms-3 shadow-none border-0"
        >
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<daypilot-scheduler [config]="config()" #scheduler></daypilot-scheduler>

<div class="w-full d-flex justify-content-center py-4 border-top">
  <div
    class="d-flex align-items-center bg-white shadow-sm border rounded-pill px-2 py-1"
    style="gap: 10px"
  >
    <button
      (click)="goToPage(currentPage() - 1)"
      [disabled]="currentPage() === 0"
      class="btn btn-link text-dark p-0 d-flex align-items-center justify-content-center rounded-circle hover-bg-light"
      style="width: 35px; height: 35px; text-decoration: none; border: none"
    >
      <i class="bi bi-chevron-left"></i>
    </button>

    <div
      class="d-flex align-items-center px-3 border-start border-end"
      style="height: 25px"
    >
      <span class="fw-bold text-primary me-1">{{ currentPage() + 1 }}</span>
      <span class="text-muted small">/ {{ totalPages() }}</span>
    </div>

    <button
      (click)="goToPage(currentPage() + 1)"
      [disabled]="currentPage() >= totalPages() - 1"
      class="btn btn-link text-dark p-0 d-flex align-items-center justify-content-center rounded-circle hover-bg-light"
      style="width: 35px; height: 35px; text-decoration: none; border: none"
    >
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</div>
